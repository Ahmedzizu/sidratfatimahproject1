//=====================================================================
// 1. نظام التصميم (Design System)
//=====================================================================
//-- لوحة الألوان --
$color-primary-dark: #6d4c41;
$color-primary-light: #a1887f;
$color-accent-gold: #c0a062;
$color-background: #fdfaf6;
$color-surface: #ffffff;
$color-text-dark: #372a25;
$color-text-light: #f5f5f5;
$color-row-alternate: #f6f4f1;
$color-border: #e0d9d6;
$color-success: #4CAF50;
$color-warning: #ffa726;
$color-error: #f44336;

//-- التدرج اللوني والظلال --
$gradient-primary: linear-gradient(145deg, lighten($color-primary-dark, 5%), $color-primary-dark);
$shadow-soft: 0 4px 10px rgba($color-primary-dark, 0.1);
$shadow-medium: 0 8px 20px rgba($color-primary-dark, 0.12);
$shadow-glow-primary: 0 0 15px rgba($color-primary-dark, 0.3);
$shadow-glow-success: 0 0 15px rgba($color-success, 0.4);

//-- متغيرات CSS --
:root {
   --transition-fast: all 0.2s ease-out;
   --transition-normal: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
   --radius-small: 8px;
   --radius-medium: 12px;
   --radius-pill: 50px;
}

//=====================================================================
// 2. أنيميشن وحركات متقدمة
//=====================================================================
@keyframes fadeIn {
   from {
      opacity: 0;
      transform: translateY(10px);
   }

   to {
      opacity: 1;
      transform: translateY(0);
   }
}

@keyframes float {

   0%,
   100% {
      transform: translateY(0);
   }

   50% {
      transform: translateY(-4px);
   }
}

@keyframes shimmer {
   0% {
      box-shadow: 0 0 5px rgba($color-success, 0.2);
   }

   50% {
      box-shadow: 0 0 20px rgba($color-success, 0.5);
   }

   100% {
      box-shadow: 0 0 5px rgba($color-success, 0.2);
   }
}

//-- أنيميشن لتحميل البيانات (Spinner) --
@keyframes loader-dual-ring {
   0% {
      transform: rotate(0deg);
   }

   100% {
      transform: rotate(360deg);
   }
}

//-- أنيميشن لصفوف الجدول --
@for $i from 1 through 20 {
   .responsive-table tbody tr:nth-child(#{$i}) {
      animation: fadeIn 0.5s ease-out both;
      animation-delay: #{$i * 0.06}s;
   }
}

//=====================================================================
// 3. الأنماط الأساسية والهيكل العام
//=====================================================================
body {
   margin: 0;
   padding: 20px 60px;
   font-family: 'Cairo', sans-serif;
   background-color: $color-background;
   color: $color-text-dark;
}

.cont {
   padding: 25px;
   background-color: $color-surface;
   border-radius: var(--radius-medium);
   box-shadow: $shadow-soft;
   transition: var(--transition-normal);
   animation: fadeIn 0.6s ease-out;

   &:hover {
      transform: translateY(-5px);
      box-shadow: $shadow-medium;
   }
}

//=====================================================================
// 4. شريط التنقل (Tabs)
//=====================================================================
.employee-navigate {
   display: flex;
   border-bottom: 1px solid $color-border;
   margin-bottom: 30px;

   button {
      padding: 16px 25px;
      border: none;
      background: none;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      color: $color-primary-light;
      position: relative;
      transition: var(--transition-normal);

      &::after {
         content: '';
         position: absolute;
         bottom: -1px;
         left: 0;
         width: 0;
         height: 3px;
         background-color: $color-primary-dark;
         border-radius: 3px;
         transition: var(--transition-normal);
      }

      &:hover {
         color: $color-primary-dark;
      }

      &.active {
         color: $color-primary-dark;

         &::after {
            width: 100%;
         }
      }
   }
}

//=====================================================================
// 5. الأزرار والفلاتر
//=====================================================================
.filters-and-actions {
   display: flex;
   align-items: center;
   gap: 20px;
   margin-bottom: 30px;
}

//-- زر أساسي (يمكن إضافة أيقونة بداخله) --
.btn {
   display: inline-flex;
   align-items: center;
   justify-content: center;
   gap: 8px;
   padding: 12px 28px;
   border-radius: var(--radius-pill);
   border: none;
   font-size: 16px;
   font-weight: 600;
   cursor: pointer;
   box-shadow: $shadow-soft;
   transition: var(--transition-fast);
   text-decoration: none;

   i {
      // لتنسيق الأيقونات
      font-size: 1.2em;
   }

   &:hover {
      transform: translateY(-3px);
      box-shadow: $shadow-medium;
   }

   // زر الإضافة الرئيسي
   &.btn-add {
      background: $gradient-primary;
      color: $color-text-light;
      animation: shimmer 2.5s infinite linear;

      &:hover {
         box-shadow: $shadow-glow-primary;
      }
   }

   // زر عادي
   &.btn-secondary {
      background-color: $color-surface;
      color: $color-primary-dark;
      border: 1px solid $color-border;
   }
}

.custom-select-wrapper {
   position: relative;

   select {
      appearance: none;
      padding: 12px 45px 12px 25px;
      border: 1px solid $color-border;
      border-radius: var(--radius-pill);
      background-color: $color-surface;
      font-family: 'Cairo', sans-serif;
      font-size: 16px;
      cursor: pointer;
      color: $color-text-dark;
      transition: var(--transition-fast);
   }

   &::after {
      // السهم
      content: '▼';
      position: absolute;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      pointer-events: none;
      transition: var(--transition-fast);
      color: $color-primary-light;
   }

   &:hover {
      select {
         border-color: $color-primary-dark;
         box-shadow: $shadow-glow-primary;
      }

      &::after {
         color: $color-primary-dark;
         animation: float 1.5s infinite ease-in-out;
      }
   }
}

//=====================================================================
// 6. تصميم الجدول المتقدم
//=====================================================================
.responsive-table {
   width: 100%;
   border-collapse: separate;
   border-spacing: 0;
   border: 1px solid $color-border;
   border-radius: var(--radius-medium);
   overflow: hidden;

   thead th {
      background-color: $color-primary-dark;
      color: $color-text-light;
      padding: 18px 20px;
      font-weight: 700;
   }

   tbody tr {
      transition: var(--transition-fast);

      &:nth-child(even) {
         background-color: $color-row-alternate;
      }

      &:last-child td {
         border-bottom: none;
      }

      //-- تأثير "الرفع" عند المرور --
      &:hover {
         transform: translateY(-4px);
         box-shadow: $shadow-medium;
         z-index: 10;
         position: relative;
         background-color: $color-surface;
      }
   }

   td {
      padding: 16px 20px;
      border-bottom: 1px solid $color-border;
      text-align: center;
      vertical-align: middle;
   }
}

//=====================================================================
// 7. تصميم أزرار Material-UI داخل الجدول
//=====================================================================
.MuiButton-root {
   min-width: 90px;
   border-radius: var(--radius-pill) !important;
   transition: var(--transition-fast) !important;

   &:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: $shadow-medium;
   }
}

.MuiButton-warning {
   background-color: $color-warning !important;
   color: $color-text-dark !important;
}

.MuiButton-error {
   background-color: $color-error !important;
   color: $color-text-light !important;
}


//=====================================================================
// 8. تحميل البيانات والإشعارات (Toast)
//=====================================================================
//-- سبينر احترافي --
.loader-dual-ring {
   display: inline-block;
   width: 80px;
   height: 80px;

   &::after {
      content: " ";
      display: block;
      width: 64px;
      height: 64px;
      margin: 8px;
      border-radius: 50%;
      border: 6px solid $color-primary-dark;
      border-color: $color-primary-dark transparent $color-primary-dark transparent;
      animation: loader-dual-ring 1.2s linear infinite;
   }
}

//-- تصميم الإشعارات --
.toast-message {
   display: flex;
   align-items: center;
   gap: 15px;
   padding: 15px 20px;
   border-radius: var(--radius-medium);
   box-shadow: $shadow-medium;
   color: $color-text-light;
   animation: fadeIn 0.5s ease-out;

   .icon {
      font-size: 24px;
   }

   .text {
      flex: 1;
   }

   &.success {
      background-color: $color-success;
   }

   &.error {
      background-color: $color-error;
   }

   &.warning {
      background-color: $color-warning;
      color: $color-text-dark;
   }
}